"use strict";(self.webpackChunkprototipo_caixa=self.webpackChunkprototipo_caixa||[]).push([[763],{7763:(W,x,r)=>{r.r(x),r.d(x,{AlbumModule:()=>b});var E=r(6895),S=r(2103);function A(a,e,n,s,i,o,u){try{var d=a[o](u),p=d.value}catch(q){return void n(q)}d.done?e(p):Promise.resolve(p).then(s,i)}function F(a){return function(){var e=this,n=arguments;return new Promise(function(s,i){var o=a.apply(e,n);function u(p){A(o,s,i,u,d,"next",p)}function d(p){A(o,s,i,u,d,"throw",p)}u(void 0)})}}var w=r(7579);const O={buttons:{copy:'<i class="fas fa-lg fa-copy mr-2"></i>Copiar',copyTitle:"Copiado",copySuccess:{_:"Copiados %d registros",1:"Copiado 1 registro"},pdf:'<i class="fa fa-lg fa-file-pdf mr-2"></i>PDF',print:'<i class="fa fa-lg fa-print mr-2"></i>Imprimir',excel:'<i class="fa fa-lg fa-file-excel mr-2"></i>Exportar para planilha',colvis:'<i class="fa fa-lg fa-columns mr-2"></i>Colunas vis\xedveis',pageLength:'<i class="fa fa-lg fa-bars mr-2"></i>Mostrar <b>%d</b> linhas'},processing:"Processando...",search:'<i class="fa fa-search fa-lg mr-2"></i>',lengthMenu:"Mostrar _MENU_ elementos",info:"Mostrando desde <i>_START_</i> at\xe9 <i>_END_</i> de <b>_TOTAL_</b> elementos",infoEmpty:"Mostrando nenhum elemento.",infoFiltered:"(filtrado _MAX_ elementos total)",infoPostFix:"",loadingRecords:"Carregando registros...",zeroRecords:"N\xe3o foram encontrados registros",emptyTable:"<div class='text-center'>N\xe3o h\xe1 dados dispon\xedveis na tabela</div>",paginate:{first:"Primeiro",previous:"Anterior",next:"Seguinte",last:"\xdaltimo"},aria:{sortAscending:": Ativar para ordenar a tabela em ordem ascendente",sortDescending:": Ativar para ordenar a tabela em ordem descendente"},select:{rows:{_:" - %d linhas selecionadas",0:" - Clique em uma linha para selecion\xe1-la",1:" - 1 linha selecionada"}}};class c{constructor(e){this.button=e}}c.PRINT=new c({extend:"print",className:"btn btn-sm btn-outline-accent"}),c.EXCEL=new c({extend:"excel",className:"btn btn-sm btn-outline-accent"}),c.COPY=new c({extend:"copy",className:"btn btn-sm btn-outline-accent"}),c.COLVIS=new c({extend:"colvis",className:"btn btn-sm btn-outline-accent"});var m=(()=>{return(a=m||(m={})).INPUT="input",a.SELECT="select",a.NONE="none",m;var a})(),h=(()=>{return(a=h||(h={})).TOP="top",a.BOTTOM="bottom",a.NONE="none",h;var a})();const I=[c.PRINT.button,c.EXCEL.button];class l{static getDataTableSettings(e){const n={dom:this.SHOW_TABLE,buttons:[],language:O,responsive:!0};let s="",i="";return e.showFilter&&(s=s+=this.SHOW_FILTER),(e.showButtons||e.buttons&&e.buttons.length>0)&&(s=s+=this.SHOW_BUTTONS),e.showProcessing&&(s=s+=this.SHOW_PROCESSING),e.showInfo&&(i=i+=this.SHOW_INFO),e.showLength&&(i=i+=this.SHOW_LENGTH),e.showPagination&&(e.paging=!0,i=i+=this.SHOW_PAGINATION),e.buttons&&e.buttons.length>0&&(n.buttons=e.buttons),e.menuLength&&e.menuLength.length>0&&(n.lengthMenu=e.menuLength),n.dom=s+this.SHOW_TABLE+i,n.paging=!1!==e.paging||e.paging,n.searching=!1!==e.searching||e.searching,n.configOptions=e,n}}l.BTN_CLASS="btn btn-sm btn-outline-dark-light",l.SHOW_FILTER="f",l.SHOW_LENGTH="l",l.SHOW_BUTTONS="B",l.SHOW_TABLE="t",l.SHOW_INFO="i",l.SHOW_PROCESSING="r",l.SHOW_PAGINATION="p",l.DEFAULT_BUTTONS=c,l.DEFAULT_SETTINGS=l.getDataTableSettings({searching:!0,showFilter:!0,showLength:!1,showButtons:!1,showInfo:!0,showProcessing:!0,showPagination:!0}),l.COMPLETE_SETTINGS=l.getDataTableSettings({buttons:I,searching:!0,showFilter:!0,showLength:!0,showButtons:!0,showInfo:!0,showProcessing:!0,showPagination:!0}),l.COMPLETE_NO_BUTTON_SETTINGS=l.getDataTableSettings({searching:!0,showFilter:!0,showLength:!0,showButtons:!1,showInfo:!0,showProcessing:!0,showPagination:!0}),l.PAGINATION_INFO_SETTINGS=l.getDataTableSettings({searching:!1,showFilter:!1,showLength:!1,showButtons:!1,showInfo:!0,showProcessing:!0,showPagination:!0}),l.SIMPLE_SETTINGS=l.getDataTableSettings({searching:!0,showFilter:!1,showLength:!1,showButtons:!1,showInfo:!1,showProcessing:!1,showPagination:!1,paging:!1});var t=r(1571),L=r(6916),y=r(529);class g{constructor(e){this.http=e,this.ALBUM_API_URL=L.N.ALBUM_API}consultaApiAlbum(){return this.http.get(`${this.ALBUM_API_URL}`,{headers:{"Content-type":"application/json; charset=UTF-8"}})}}g.\u0275fac=function(e){return new(e||g)(t.LFG(y.eN))},g.\u0275prov=t.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"});var N=r(8423),C=r(5415);class T{constructor(){this.TOP_FILTER_CLASS="d-table-row-group",this.FILTER_INPUT_CLASS="form-control",this.FILTER_SELECT_CLASS="form-control",this.settings=l.DEFAULT_SETTINGS,this.columnFilterType=m.NONE,this.columnFilterPosition=h.NONE,this.trigger=new w.x}ngOnInit(){this.setDefaultLanguage(),this.setDefaultClasses(),this.dtElement.dtTrigger||(this.dtElement.dtTrigger=new w.x),this.settings.columnFilterType=this.columnFilterType,this.settings.columnFilterPosition=this.columnFilterPosition,this.dtElement.dtOptions=this.settings}ngAfterViewInit(){this.drawTable(!0)}drawTable(e=!1){this.dtElement.dtTrigger.next(null),this.tableElementRef=this.dtElement.el,this.tableElement=this.tableElementRef.nativeElement,this.theadElement=this.tableElement.querySelector("thead"),this.tfootElement=this.tableElement.querySelector("tfoot"),this.tbodyElement=this.tableElement.querySelector("tbody"),this.bindRowExpandEvent(this.tbodyElement),this.dtElement.dtInstance&&this.dtElement.dtInstance.then(n=>{this.drawColumnFilters(n,this.theadElement,this.tfootElement,this.tbodyElement,e)})}reloadTable(){this.dtElement.dtOptions=this.settings,this.dtElement.dtInstance&&this.dtElement.dtInstance.then(e=>{e.destroy(),this.drawTable()})}updateSettings(e){this.settings=e,this.reloadTable()}updateFilterColumnPosition(e){this.columnFilterPosition=e,this.reloadTable()}updateFilterColumnType(e){this.columnFilterType=e,this.reloadTable()}setDefaultLanguage(){$.extend($.fn.dataTable.defaults,{language:O})}setDefaultClasses(){$.fn.dataTable.ext.classes.sPageButton="btn btn-sm ml-1 shadow-none",$.fn.dataTable.ext.classes.sPageButtonActive="btn-accent",$.fn.dataTable.ext.classes.sLengthSelect="form-control",$.fn.dataTable.ext.classes.sFilterInput="form-control"}drawColumnFilters(e,n,s,i,o){const u=this.settings.columnFilterType;u?s||(s=this.drawFooter(e,n)):e.columns().every(function(){$(this.footer()).remove()}),this.setFooterClass(s),this.drawInputColumnFilter(e,u),this.drawSelectColumnFilter(e,u),o&&(this.reloadTable(),this.trigger.subscribe(()=>{this.reloadTable()}))}drawFooter(e,n){let s="";for(let i=0;i<e.columns()[0].length;i++)s+="<td></td>";return s=`<tfoot><tr>${s}</tr></tfoot>`,$(s).insertAfter(n),this.tfootElement=this.tableElement.querySelector("tfoot"),this.tfootElement}setFooterClass(e){!e||this.columnFilterPosition!==h.TOP&&this.columnFilterPosition?e&&this.columnFilterPosition===h.BOTTOM&&$(e).removeClass(this.TOP_FILTER_CLASS):$(e).addClass(this.TOP_FILTER_CLASS)}drawInputColumnFilter(e,n){const s=this.FILTER_INPUT_CLASS;e.columns().every(function(){const i=this;if(n===m.INPUT||i.header().dataset.filter===m.INPUT){const o=i.header().innerText;$(`<input class='${s}' placeholder='Filtre ${o}'>`).appendTo($(i.footer()).empty()).on("keyup change",function(){i.search()!==this.value&&i.search(this.value).draw()})}})}drawSelectColumnFilter(e,n){const s=this.FILTER_SELECT_CLASS;e.columns().every(function(){const i=this;if(n===m.SELECT||i.header().dataset.filter===m.SELECT){const o=i.header().innerText,u=$(`<select class='${s}'><option value="">Filtre ${o}</option></select>`).appendTo($(i.footer()).empty()).on("change",function(){const d=$.fn.dataTable.util.escapeRegex(String($(this).val()));i.search(d?"^"+d+"$":"",!0,!1).draw()});i.data().unique().sort().each(function(d){u.append('<option value="'+d+'">'+d+"</option>")})}})}bindRowExpandEvent(e){e&&this.dtElement.dtInstance.then(s=>{this.unbindRowExpandEvent(e),$(e).on("click","td.table-expand-button",function(){const i=$(this).closest("tr"),o=s.row(i);o.child.isShown()?(o.child.hide(),i.removeClass("shown"),i.find("i").attr("class","fa fa-plus")):(o.child(function(s,i){return"<div>Id: "+s+"<br />Prato: "+i+"</div>"}(i.data("child-name"),i.data("child-value"))).show(),i.addClass("shown"),i.find("i").attr("class","fa fa-minus"))})})}unbindRowExpandEvent(e){$(e).off("click","td.table-expand-button")}ngOnDestroy(){this.dtElement.dtTrigger.unsubscribe(),this.dtElement&&this.dtElement.dtInstance&&this.dtElement.dtInstance.then(e=>{e.destroy()})}}T.\u0275fac=function(e){return new(e||T)},T.\u0275cmp=t.Xpm({type:T,selectors:[["cx-datatable"]],contentQueries:function(e,n,s){if(1&e&&t.Suo(s,C.G,7,C.G),2&e){let i;t.iGM(i=t.CRH())&&(n.dtElement=i.first)}},inputs:{settings:"settings",columnFilterType:"columnFilterType",columnFilterPosition:"columnFilterPosition",trigger:"trigger"},ngContentSelectors:["*"],decls:1,vars:0,template:function(e,n){1&e&&(t.F$t(),t.Hsn(0))},styles:[".dataTables_wrapper{display:flex;flex-wrap:wrap;width:100%;overflow-x:auto}.dataTables_wrapper .table.dataTable{width:100%!important}.dataTables_length{display:flex;margin-bottom:1rem;width:30%;margin-left:auto}.dataTables_length label{width:100%;color:var(--cxContrast);text-align:right}.dataTables_length select{width:10rem!important;display:inline-block!important}.dataTables_filter{display:block;margin-bottom:1rem;width:30rem}.dataTables_filter label{display:flex;align-items:center;margin-left:auto;color:var(--cxContrast)}.dataTables_filter label input{font-family:var(--cxFontFamilyNormal)}.dataTables_info{display:inline-block}.dataTables_paginate{text-align:right;margin-left:auto}.dt-buttons{display:flex;margin-left:auto;margin-bottom:1rem}.dt-buttons .dt-button{margin-left:.5rem}.dt-button-collection{position:absolute;z-index:999;border:solid 1px var(--cxCancel);background-color:var(--cxBase);box-shadow:var(--cxShadow);width:auto;top:0;left:0;padding:1rem}.dataTables_empty{text-align:center}.table.dataTable thead th{border-top:none;border-bottom:solid 1px var(--cxContrast)!important}.table.dataTable tfoot td{padding-left:0}td.table-expand-button{cursor:pointer;color:var(--cxAccent)}\n"],encapsulation:2,changeDetection:0});var v=r(4333);function U(a,e){if(1&a&&(t.TgZ(0,"div",16)(1,"div",17)(2,"div",18),t._uU(3),t.qZA(),t.TgZ(4,"div",19)(5,"div",20)(6,"div",21),t._UZ(7,"img",22),t.qZA()()()()()),2&a){const n=e.$implicit;t.xp6(3),t.Oqu(n.title),t.xp6(4),t.Q6J("src",n.thumbnailUrl,t.LSH)}}function M(a,e){if(1&a&&(t.TgZ(0,"div",14),t.YNc(1,U,8,2,"div",15),t.qZA()),2&a){const n=e.$implicit;t.xp6(1),t.Q6J("ngForOf",n)}}const R=function(a){return{itemsPerPage:2,currentPage:a}};function B(a,e){if(1&a){const n=t.EpF();t.TgZ(0,"div",11),t.YNc(1,M,2,1,"div",12),t.ALo(2,"paginate"),t.TgZ(3,"pagination-controls",13),t.NdJ("pageChange",function(i){t.CHM(n);const o=t.oxw();return t.KtG(o.page=i)}),t.qZA()()}if(2&a){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,n.items,t.VKq(4,R,n.page)))}}function D(a,e){if(1&a&&(t.TgZ(0,"tr")(1,"td")(2,"div",21),t._UZ(3,"img",22),t.qZA()(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t._UZ(6,"td"),t.qZA()),2&a){const n=e.$implicit;t.xp6(3),t.Q6J("src",n.thumbnailUrl,t.LSH),t.xp6(2),t.Oqu(n.title)}}function H(a,e){if(1&a&&(t.TgZ(0,"div",23)(1,"div",19)(2,"cx-datatable",24)(3,"table",25)(4,"thead")(5,"tr")(6,"th"),t._uU(7,"Foto"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"T\xedtulo"),t.qZA(),t._UZ(10,"th"),t.qZA()(),t.TgZ(11,"tbody"),t.YNc(12,D,7,2,"tr",26),t.qZA()()()()()),2&a){const n=t.oxw();t.xp6(2),t.Q6J("trigger",n.dtTrigger)("settings",n.dtSettings),t.xp6(10),t.Q6J("ngForOf",n.albumItems)}}const P=function(a){return{active:a}};class _{constructor(e,n,s){this.albumService=e,this.loading=n,this.cdr=s,this.items=[],this.itemsPerColumn=3,this.albumItems=[],this.rows=[],this.tableTrigger=new w.x,this.dtTrigger=new w.x,this.dtSettings=l.DEFAULT_SETTINGS,this.tipoExibicao="CARD",this.page=1,this.filter=""}ngOnInit(){this.consultaApi()}consultaApi(){this.loading.show("global"),this.albumService.consultaApiAlbum().subscribe({next:e=>this.organizaItems(e),error:e=>{console.error(e.message),this.loading.hide("global")},complete:()=>{}})}organizaItems(e){var n=this;return F(function*(){n.albumItems=e,e.forEach(function(){var s=F(function*(i){});return function(i){return s.apply(this,arguments)}}()),n.items=n.groupColumns(e,5),n.dtTrigger.next(!0),n.cdr.markForCheck(),n.loading.hide("global")})()}groupColumns(e,n){const s=e.filter(o=>!this.filter||-1!==o.title.indexOf(this.filter)),i=[];for(let o=0;o<s.length;o+=n)i.push(s.slice(o,o+n));return i}}_.\u0275fac=function(e){return new(e||_)(t.Y36(g),t.Y36(N.t2),t.Y36(t.sBO))},_.\u0275cmp=t.Xpm({type:_,selectors:[["app-album"]],inputs:{items:"items",itemsPerColumn:"itemsPerColumn"},decls:14,vars:8,consts:[[1,"header","mb-3"],[1,"titulo"],[1,"btn","btn-aux","mr-4",3,"ngClass","click"],[1,"fa","fa-table","mr-2"],[1,"btn","btn-aux",3,"ngClass","click"],[1,"fa","fa-th","mr-2"],[1,"input-container","d-flex","align-items-center","w-25","mb-3"],[1,"fa","fa-search","mr-3"],["placeholder","Filtro...",1,"form-control","d-inline-block",3,"input"],["class","album-items-rows",4,"ngIf"],["class","card",4,"ngIf"],[1,"album-items-rows"],["class","row mb-3",4,"ngFor","ngForOf"],["previousLabel","Anterior","nextLabel","Pr\xf3ximo","responsive","true",3,"pageChange"],[1,"row","mb-3"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card","card-hover"],[1,"card-header"],[1,"card-body"],[1,"d-flex"],[1,"img-container"],[1,"img-fluid",3,"src"],[1,"card"],[3,"trigger","settings"],["datatable","",1,"table","table-hover"],[4,"ngFor","ngForOf"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"h1",1),t._uU(2,"\xc1lbum"),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return n.tipoExibicao="TABELA"}),t._UZ(4,"i",3),t._uU(5,"Tabela "),t.qZA(),t.TgZ(6,"button",4),t.NdJ("click",function(){return n.tipoExibicao="CARD"}),t._UZ(7,"i",5),t._uU(8,"Card "),t.qZA()(),t.TgZ(9,"div",6),t._UZ(10,"i",7),t.TgZ(11,"input",8),t.NdJ("input",function(i){return n.filter=i.target.value,n.organizaItems(n.albumItems)}),t.qZA()(),t.YNc(12,B,4,6,"div",9),t.YNc(13,H,13,3,"div",10)),2&e&&(t.xp6(3),t.Q6J("ngClass",t.VKq(4,P,"TABELA"==n.tipoExibicao)),t.xp6(3),t.Q6J("ngClass",t.VKq(6,P,"CARD"==n.tipoExibicao)),t.xp6(6),t.Q6J("ngIf","CARD"==n.tipoExibicao),t.xp6(1),t.Q6J("ngIf","TABELA"==n.tipoExibicao&&(null==n.albumItems?null:n.albumItems.length)>0))},dependencies:[E.mk,E.sg,E.O5,C.G,T,v.LS,v._s],styles:[".album-items-rows[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{min-width:18rem;max-width:18rem;width:18rem;max-height:18rem;height:18rem}.album-items-rows[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{height:4rem}.album-items-rows[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]{display:flex;margin:auto}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{min-height:6.5rem;height:6.5rem}.table[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]{display:flex;margin:auto;max-width:5rem;max-height:5rem}"],changeDetection:0});const G=[{path:"",component:_}];class f{}f.\u0275fac=function(e){return new(e||f)},f.\u0275mod=t.oAB({type:f}),f.\u0275inj=t.cJS({imports:[S.Bz.forChild(G),S.Bz]});var J=r(2109);class b{}b.\u0275fac=function(e){return new(e||b)},b.\u0275mod=t.oAB({type:b}),b.\u0275inj=t.cJS({imports:[E.ez,f,J.J,v.JX]})}}]);